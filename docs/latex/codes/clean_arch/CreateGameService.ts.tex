\begin{lstlisting}[language=JavaScript, caption={O Caso de Uso},captionpos=b, label=alg:usecase]
  @injectable()
  export default class CreateGameService {
    constructor(
      @inject('GamesRepository')
      private gamesRepository: IGamesRepository,
    ) {}
  
    public async execute({
      name,
      price,
      publisher,
      release_date,
    }: ICreateGameDTO): Promise<Game> {
      const checkGame =
        await this.gamesRepository.findByNameAndPublisherAndReleaseDate({
          name,
          publisher,
          release_date,
        });
      if (checkGame) {
        throw new AppError('Game Already registered');
      }
      const game = await this.gamesRepository.create({
        name,
        price,
        publisher,
        release_date,
      });
  
      return game;
    }
  }
\end{lstlisting}
